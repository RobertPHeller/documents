   Introduction (Informative)

    

   This document describes the physical layer for carrying NMRAnet over a Controller Area Network (CAN)
   link or links. It describes nothing else. Seriously, if you want to know about Ethernet, or modular
   standards for power connections, or how to make really good fried chicken, look elsewhere.

    

   Intended Use (Informative)

    

   Suitable NMRAnet nodes can be connected by cables to form a linear CAN bus with optional short stubs.
    Users can expect to be able to form networks within limitations:

    

     * Total cable length of 1000 ft / 300m; stub cables count double their length in that total; nodes
       count as 20 ft / 6m in that total

     * Never less than 1 ft / 30cm of cable between nodes, nor between a stub connection and a node.

     * No more than 50 nodes connected

    

   NMRAnet nodes generally have two RJ45 modular connectors and can be daisy-chained together with suitable
   computer-network (“Ethernet”) cables. A CAN terminator is installed by the user at each end of the main
   bus.

    

   A limited amount of power can be distributed via the cable, allowing up to five nodes drawing 100mA each
   to be powered over a 10 ft / 3m length of the common bus.

    

   References & Context (Normative)

    

   In this document

    

     * “RJ45” refers to the miniature 8 position unkeyed plug and jack defined in sections Section 6.1.1.3
        and Section 6.1.1.4, respectively, of the TIA-968-A specification.

     * “UTP” refers to CAT-3 or better cable as defined in TIA/EIA-568-B or the successor TIA/EIA-568-C.

     * “CAN” refers to the electrical and protocol specifications as defined in ISO 11898-1:2003 and ISO
       11898-2:2003 and their successors.

    

   External certification of parts shall be accepted for conformance to these standards. Conformance with a
   later version of a standard shall be accepted as conformance with the referenced versions.

    

   Physical Interconnection (Normative)

    

   CAN connections between nodes shall be made using UTP cable. Connectors are not required, but if
   connectors are provided, there shall be a RJ45 plug on the cable and RJ45 jack on the node.  The signal,
   conductor and pair assignments shall be:

    

   Conductor Signal Name TIA/EIA-568-A Pair TIA/EIA-568-B Pair 
                         (Informative)      (Informative)      
   1         CAN_H       white/green        white/orange       
   2         CAN_L       green              orange             
   3         CAN_GND     white/orange       white/green        
   4         Reserved    blue               blue               
   5         Reserved    white/blue         white/blue         
   6         CAN_GND     orange             green              
   7         CAN_GND     white/brown        white/brown        
   8         CAN_V+      brown              brown              
                                                               
                                                               

    

   Cables, including cables attached to nodes, shall carry conductors 1 & 2 as a pair, and conductors 3 & 6
   as a pair. Conductors 4 and 5, if present, shall be carried as a pair. Conductors 7 and 8, if present,
   shall be carried as a pair.

    

   If two or more connections are provided, all eight conductors shall be connected in parallel on all
   connectors with connections rated for current of at least 1A.

    

   Voltages of up to 100 volts AC or either polarity DC on the reserved conductors shall not damage the
   node nor prevent normal operation of the node.

    

   Data Transport (Normative)

    

   Data shall be transferred using a CAN signal at 125kbps and CAN frame protocol. The bit slew rate of the
   CAN signal, as transmitted, shall be less than 10V/microsecond and more than 4V/microsecond.

    

   Supply of Power (Normative)

    

   Nodes may, but are not required to, provide power to the cable CAN_V+ conductor.  If they do, they shall
   provide at least 9VDC and no more than 15VDC from zero current draw up to their specified maximum
   current. Their specified maximum current shall not exceed 1A. The specified maximum current shall be
   permanently written on the node in a location visible to the user.  (needs a “shall withstand” clause
   for applied external voltage?)(needs a “shall withstand short circuits on the output ...”?)

    

   Consumption of Power (Normative)

    

   Nodes may, but are not required to, draw power from the CAN_V+ conductor in the cable.  Nodes shall not
   draw more than 250mA at any CAN_V+ voltage from 7.5VDC to 15VDC.  Nodes that draw power from the cable
   shall operate properly with a supply voltage of 7.5VDC to 15VDC on the CAN_V+ conductor. The maximum
   current drawn by each node shall be permanently written on that node in a location visible to the user.
   This label is required whether or not the node draws power from the cable. (needs a “shall withstand”
   clause for applied external voltage?)(needs a discussion of isolation, ala Dick's vampire diodes? Or
   leave that for implementors?)

    

    

    

    
