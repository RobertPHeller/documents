                                         1 Introduction (Informative)

   This specification describes the format and allocation of OpenLCB 48-bit unique identifiers. It is not
   specific to any wire protocol.

   For more information on format and presentation, see:

     * OpenLCB Common Information Technical Note

                                         2 Intended Use (Informative)

   Many OpenLCB protocols rely on each node having a node ID, and those node IDs being absolutely unique
   between nodes. OpenLCB defines 48-bit unique identifiers for this purpose. Unique identifiers are also
   used to ensure that Event Identifiers are uniquely specified, and for other purposes. This Standard is
   intended to ensure these unique IDs are available. It applies to all OpenLCB uses of 48-bit unique
   identifiers, including as node identifiers.

                                     3 References and Context (Normative)

   This specification is in the context of the OpenLCB-CAN … Specification, which specifies …

                                             4 Format (Normative)

   An OpenLCB unique identifier (unique ID) shall be six bytes of eight bits each.

   The order of bytes in an OpenLCB unique ID shall be considered significant. The most-significant byte
   shall be transmitted first during communication operations. The most-significant byte shall be written
   first (left-most in Western format) in any human-readable representation.

   OpenLCB unique IDs shall include one or more 1 bits.

   Every OpenLCB node shall have a unique identifier to use as a node identifier.

                                           5 Allocation (Normative)

   Unique identifiers shall be allocated using one of the mechanisms in this section.

    

    

    

5.1 Node numbers assigned by manufacturers

   Manufacturers who have been assigned a manufacturer ID number by the NMRA may, but are not required to,
   use their NMRA manufacturer ID number to self-assign unique identifier numbers using the pattern:

   Byte 1 Byte 2 Byte 3      Byte 4        Byte 5        Byte 6        
   0x02   0x01   Mfg ID byte self-assigned self-assigned self-assigned 

    

   Manufacturers shall ensure that the same node ID is not used by more than one node.

5.2 Node numbers assigned by members of organized groups

   A NMRA member may, but is not required to, use their NMRA membership number to self-assign node ID
   numbers using the pattern:

   Byte 1 Byte 2 Byte 3 Byte 4 Byte 5 Byte 6        
   0x03   0x00   Member Number        Self-assigned 

    

   A MERG member may, but is not required to, use their MERG membership number to self-assign node ID
   numbers using the pattern:

   Byte 1 Byte 2 Byte 3 Byte 4 Byte 5 Byte 6        
   0x03   0x04   Member Number        Self-assigned 

    

   Individuals using this assignment pattern shall ensure that the same node ID is not used by more than
   one node.

5.3 Node numbers assigned by software at run-time

   A program running in a computer with global IP address may, but is not required to, use that IP address
   to self-assign node ID numbers using the pattern:

   Byte 1 Byte 2    Byte 3    Byte 4    Byte 5    Byte 6        
   0x04   IP number IP number IP number IP number self-assigned 

   IP addresses in the following ranges shall not be used:

    1.   1.   1.   1. 10.0.0.0 – 10.255.255.255

                      172.16.0.0 – 172.31.255.255

                      192.168.0.0 – 192.168.255.255

                      169.254.0.0 – 169.254.255.255

   Programs using this assignment pattern shall ensure that the same node ID is not used by more than one
   node.

5.4 Node numbers assigned using other's methods for assuring uniqueness

   Other groups have defined mechanisms to ensure that node ID numbers or equivalent constructs are
   uniquely assigned. They may have e.g. non-technical reasons for wishing to use those same mechanisms to
   assign OpenLCB node IDs. Ranges of OpenLCB NIDs can be assigned to these, so that when people then use
   the group's mechanism to select a number within that range, the result will be a properly unique NID.

   The first example of this is MERG CBUS developers. MERG CBUS has defined a “no cost” way of identifying
   unique 16-bit Node Number (NN) for CBUS use, perhaps with an option 16-bit “Layout Number”. People who
   wish to use this mechanism to allocate unique OpenLCB Node ID numbers can, without having to consult
   anybody, generate an OpenLCB Node ID from the unique CBUS number(s) as follows:

   Byte 1 Byte 2 Byte 3      Byte 4     Byte 5  Byte 6 
   0x03   0x05   Layout High Layout Low NN High NN Low 

    

5.5 Global identification numbers

   Well-known global identifiers

    

   Byte 1 Byte 2 Byte 3 Byte 4 Byte 5 Byte 6 Use                      
   0x01   1      0x00   0x00   0x00   0x00   Well-known Event IDs     
   0x01   1      0x01   0x00                 CBUS mapped Event IDs    
   0x01   99                                 XpressNet translation    
   0x01   129    Byte 1 Byte 2 Byte 3 Byte 4 LocoNet packet transport 
   0x01   238                                DCC translation          
                                                                      

    

5.6 Assigned for use with locomotive control systems

    

   Byte 1 Byte 2 Byte 3 Byte 4 Byte 5 Byte 6 Use              
   0x06   0                                  DC (block)       
   0x06   1                                  DCC              
   0x06   2                                  TMCC             
   0x06   3                                  Marklin/Motorola 
   0x06   4                                  MTH DCS          
                                                              

    

5.7 Number ranges assigned by request

   Any individual or corporation shall be able to obtain permanent allocations of blocks of 28, 216 and 224
   node identification numbers via the http://www.openlcb.org web site.

5.8 Reserved numbers

   Node IDs in the following range shall not be used.

    

   Byte 1 Byte 2 Byte 3 Byte 4 Byte 5 Byte 6 
   0x00   Any    Any    Any    Any    Any    
   0xFF   Any    Any    Any    Any    Any    

   All other node ID numbers not specifically discussed in this Standard shall not be used.

    

    

   Table of Contents

   1 Introduction (Informative)

   2 Intended Use (Informative)

   3 References and Context (Normative)

   4 Format (Normative)

   5 Allocation (Normative)

   5.1 Node numbers assigned by manufacturers

   5.2 Node numbers assigned by members of organized groups

   5.3 Node numbers assigned by software at run-time

   5.4 Node numbers assigned using other's methods for assuring uniqueness

   5.5 Global identification numbers

   5.6 Assigned for use with locomotive control systems

   5.7 Number ranges assigned by request

   5.8 Reserved numbers

    
